const menuToggle=document.querySelector(".navbar-toggler"),navBarMenu=document.querySelector(".navbar__wrapper");menuToggle.addEventListener("click",()=>{navBarMenu.classList.contains("navbar__wrapper--hidden")?navBarMenu.classList.remove("navbar__wrapper--hidden"):navBarMenu.classList.add("navbar__wrapper--hidden"),menuToggle.classList.contains("navbar-toggler--opened")?(menuToggle.classList.remove("navbar-toggler--opened"),menuToggle.classList.add("navbar-toggler--closed")):(menuToggle.classList.remove("navbar-toggler--closed"),menuToggle.classList.add("navbar-toggler--opened"))}),$(document).ready(function(){$(".progress__slider").slick({arrows:!0,dots:!1,speed:1e3,autoplay:!0,autoplaySpeed:1500,responsive:[{breakpoint:767,settings:{slidesToShow:4}},{breakpoint:320,settings:{slidesToShow:1,variableWidth:!0}}],mobileFirst:!0})});const scrollTo=e=>{window.scroll({left:0,top:e.offsetTop,behavior:"smooth"})},burger=()=>{navBarMenu.classList.add("navbar__wrapper--hidden"),menuToggle.classList.remove("navbar-toggler--closed"),menuToggle.classList.add("navbar-toggler--opened")},about=document.querySelector(".list__item-link--first"),service=document.querySelector(".list__item-link--servis"),contact=document.querySelector(".list__item-link--contact"),howIs=document.querySelector(".about-us"),info=document.querySelector(".services"),footer=document.querySelector(".contact");about.addEventListener("click",e=>{e.preventDefault(),scrollTo(howIs),burger()}),service.addEventListener("click",e=>{e.preventDefault(),scrollTo(info),burger()}),contact.addEventListener("click",e=>{e.preventDefault(),scrollTo(footer),burger()});const popupBg=document.querySelector(".form__calculat"),popup=document.querySelector(".form__calculat-position"),knopka=document.querySelector(".form__button"),close=document.querySelector(".form__calculat-close");function start(){switch(document.getElementById("clean").value){case"Поддерживающая":cena=80;break;case"Генеральная":cena=120;break;case"После ремонта":cena=170;break;case"После аренды":cena=120}var e=document.getElementById("info").value,t=document.getElementById("name").value;""==e?alert("Вы не указали количество м²"):""==t?alert("Вы не указали количество комнат"):(area=parseFloat(e)*parseFloat(t),document.querySelector(".form__calculat-area").innerHTML="Площадь = "+area+" кв. м.",price=area*cena,document.querySelector(".form__calculat-price").innerHTML="Стоимость = "+price+" р.",popupBg.classList.add("active-one"),popup.classList.add("active"))}knopka.addEventListener("click",start),close.addEventListener("click",()=>{popupBg.classList.remove("active-one"),popup.classList.remove("active")}),document.addEventListener("click",e=>{e.target===popupBg&&(popupBg.classList.remove("active-one"),popup.classList.remove("active"))});const wrapper=document.querySelector(".wrapper");document.addEventListener("DOMContentLoaded",function(){const o=document.getElementById("form-popup");o.addEventListener("submit",async function(e){e.preventDefault();var t=r(o),e=new FormData(o);0===t?(await fetch("sendform.php",{method:"POST",body:e})).ok?(swal({title:"Спасибо за заявку!",type:"success",showConfirmButton:!1,timer:2e3}),o.reset(),wrapper.classList.remove("wrapper--show")):alert("Ошибка"):alert("Заполните обязательные поля")});const r=e=>{let t=0;var o=document.querySelectorAll("._req");for(let e=0;e<o.length;e++){const r=o[e];c(r),r.classList.contains("_phone")?n(r)&&(a(r),t++):("checkbox"===r.getAttribute("type")&&!1===r.checked||""===r.value)&&(a(r),t++)}return t},a=e=>{e.parentElement.classList.add("_error"),e.classList.add("_error")},c=e=>{e.parentElement.classList.remove("_error"),e.classList.remove("_error")},n=e=>!/(\+7|8)[- _]*\(?[- _]*(\d{3}[- _]*\)?([- _]*\d){7}|\d\d[- _]*\d\d[- _]*\)?([- _]*\d){6})/.test(e.value)}),document.addEventListener("click",function(e){e.target===wrapper&&wrapper.classList.remove("wrapper--show")});const more=document.querySelector(".main__more");more.addEventListener("click",function(){wrapper.classList.add("wrapper--show")});const request=document.querySelector(".request");request.addEventListener("click",function(){wrapper.classList.add("wrapper--show")});const checkCookies=()=>{var e=localStorage.getItem("cookieDate");let t=document.getElementById("cookie_notification"),o=t.querySelector(".cookie_accept");(!e||+e+31536e6<Date.now())&&t.classList.add("show"),o.addEventListener("click",function(){localStorage.setItem("cookieDate",Date.now()),t.classList.remove("show")})};checkCookies();